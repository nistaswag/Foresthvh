<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Forest Client ‚Äî –ª—ë–≥–∫–∏–π –∫–ª–∏–µ–Ω—Ç</title>
  <meta name="description" content="Forest Client ‚Äî –±—ã—Å—Ç—Ä—ã–π –∏ –ø—Ä–æ—Å—Ç–æ–π –∫–ª–∏–µ–Ω—Ç –¥–ª—è –≤–∞—à–∏—Ö –∑–∞–¥–∞—á. –°–∫–∞—á–∞—Ç—å, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å –∑–∞ –º–∏–Ω—É—Ç—É." />
  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%;font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;color:#1f2937;background:#0f172a}
    .wrap{max-width:1100px;margin:32px auto;padding:24px}
    header{display:flex;align-items:center;justify-content:space-between;gap:16px}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:48px;height:48px;display:grid;place-items:center;border-radius:10px;background:linear-gradient(135deg,#06b6d4,#7c3aed);color:white;font-weight:700}
    .brand h1{font-size:18px}
    nav{display:flex;gap:12px}
    nav a{color:#cbd5e1;text-decoration:none;padding:8px 12px;border-radius:8px}
    nav a:hover{background:rgba(255,255,255,0.04)}
    .hero{display:grid;grid-template-columns:1fr 420px;gap:28px;margin-top:28px;align-items:center}
    .hero .lead{color:#e6eef8}
    .lead h2{font-size:34px;margin-bottom:12px}
    .lead p{color:#9fb0c9;margin-bottom:18px}
    .btn-row{display:flex;gap:12px}
    .btn{display:inline-block;padding:12px 18px;border-radius:10px;text-decoration:none;font-weight:600}
    .btn.primary{background:#06b6d4;color:#04202a}
    .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:#cbd5e1}
    .card{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border-radius:12px;padding:18px;color:#e6eef8;box-shadow:0 6px 20px rgba(2,6,23,0.6)}
    .card h3{margin-bottom:6px}
    .card p{color:#a7c0d8;font-size:14px}
    .features{display:grid;grid-template-columns:repeat(3,1fr);gap:14px;margin:28px 0}
    .feature{background:rgba(255,255,255,0.02);padding:14px;border-radius:10px}
    .feature h4{margin-bottom:8px}
    .feature p{font-size:14px;color:#9fb0c9}
    .cta{display:flex;align-items:center;justify-content:space-between;padding:20px;background:linear-gradient(90deg,rgba(9,10,22,0.6),rgba(12,13,30,0.4));border-radius:10px}
    footer{margin-top:36px;color:#9fb0c9;font-size:14px;display:flex;justify-content:space-between;align-items:center}
    @media (max-width:900px){.hero{grid-template-columns:1fr;}.features{grid-template-columns:1fr 1fr}}
    @media (max-width:560px){.features{grid-template-columns:1fr}header{flex-direction:column;align-items:flex-start;gap:12px}nav{flex-wrap:wrap}}
    .small{font-size:13px;color:#9fb0c9}
    .forest-banner{margin-top:30px;padding:16px;background:rgba(34,197,94,0.1);border-left:4px solid #22c55e;border-radius:8px;text-align:center;color:#bbf7d0}
    .forest-banner a{color:#4ade80;text-decoration:none;font-weight:600}
    .forest-banner a:hover{text-decoration:underline}
    
    
    .role-badge{display:inline-block;padding:4px 8px;border-radius:6px;font-size:11px;font-weight:600;margin-left:8px}
    .role-developer{background:linear-gradient(135deg,#7c3aed,#06b6d4);color:white}
    .role-admin{background:linear-gradient(135deg,#dc2626,#ef4444);color:white}
    .role-moderator{background:linear-gradient(135deg,#f59e0b,#eab308);color:black}
    .role-tester{background:linear-gradient(135deg,#10b981,#34d399);color:white}
    .role-beta{background:linear-gradient(135deg,#8b5cf6,#a78bfa);color:white}
    .role-media{background:linear-gradient(135deg,#ec4899,#f472b6);color:white}
    .role-user{background:rgba(255,255,255,0.1);color:#cbd5e1}
    
    .admin-panel{background:rgba(239,68,68,0.1);border:1px solid rgba(239,68,68,0.3);border-radius:10px;padding:16px;margin-top:16px}
    .user-list{max-height:200px;overflow-y:auto;margin:12px 0}
    .user-item{display:flex;justify-content:space-between;align-items:center;padding:8px 12px;background:rgba(255,255,255,0.02);border-radius:6px;margin-bottom:6px}
    .user-actions{display:flex;gap:6px}
    .user-actions select{padding:4px 8px;border-radius:4px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);color:#e6eef8}
    .user-actions button{padding:4px 8px;border-radius:4px;background:rgba(239,68,68,0.2);border:1px solid rgba(239,68,68,0.3);color:#fca5a5;cursor:pointer}
    .user-actions button:hover{background:rgba(239,68,68,0.3)}
    
    .profile-section{display:grid;grid-template-columns:1fr 1fr;gap:18px;margin-top:22px}
    .profile-info{background:rgba(255,255,255,0.02);padding:16px;border-radius:10px}
    .profile-stats{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:12px}
    .stat-item{text-align:center;padding:12px;background:rgba(255,255,255,0.02);border-radius:8px}
    .stat-value{font-size:20px;font-weight:700;color:#06b6d4}
    .stat-label{font-size:12px;color:#9fb0c9;margin-top:4px}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo">FC</div>
        <div>
          <h1>Forest Client</h1>
          <div class="small">–õ—ë–≥–∫–∏–π –∫–ª–∏–µ–Ω—Ç ‚Äî –±—ã—Å—Ç—Ä–æ, –±–µ–∑–æ–ø–∞—Å–Ω–æ, –ø—Ä–æ—Å—Ç–æ</div>
        </div>
      </div>
      <nav>
        <a href="#features">–§—É–Ω–∫—Ü–∏–∏</a>
        <a href="#download">–°–∫–∞—á–∞—Ç—å</a>
        <a href="#docs">–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</a>
        <a href="#profile">–ü—Ä–æ—Ñ–∏–ª—å</a>
        <a href="#contact">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
        <a href="#login" id="loginNav">–í–æ–π—Ç–∏</a>
        <a href="#register" id="registerNav">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
      </nav>
    </header>

    <div class="forest-banner">
      üå≤ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ <strong>Forest Client</strong> ‚Äî –ø–æ–¥–ø–∏—à–∏—Å—å –Ω–∞ –Ω–∞—à <a href="https://t.me/forestclient" target="_blank">Telegram-–∫–∞–Ω–∞–ª</a> –¥–ª—è –Ω–æ–≤–æ—Å—Ç–µ–π –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π!
    </div>

    <div id="authState" class="forest-banner" style="display:none;margin-top:12px">
      <span id="authStateText"></span>
      <button id="logoutBtn" class="btn ghost" style="margin-left:12px;padding:6px 10px">–í—ã–π—Ç–∏</button>
    </div>

    <main>
      <section class="hero">
        <div class="lead">
          <h2>Forest Client ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –∫–ª–∏–µ–Ω—Ç</h2>
          <p>–ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞, –ø–æ–Ω—è—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø–≤–µ . –ò–¥–µ–∞–ª–µ–Ω –∫–∞–∫ –¥–ª—è –Ω–æ–≤–∏—á–∫–∞ —Ç–∞–∫ –∏ –¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.</p>
          <div class="btn-row">
            <a class="btn primary" id="downloadBtn" href="downloads/mods.zip" download rel="noopener">–°–∫–∞—á–∞—Ç—å</a>
            <a class="btn ghost" href="#docs">–ß–∏—Ç–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</a>
          </div>
          <div style="margin-top:18px;color:#9fb0c9;font-size:13px">–ü–æ–¥–¥–µ—Ä–∂–∫–∞ Windows </div>
        </div>

        <aside class="card" id="download">
          <h3>–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è</h3>
          <p style="margin-bottom:12px">–∞–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è 0.6 ‚Äî —Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π .</p>
          <div style="display:flex;gap:10px">
            <a class="btn primary" href="downloads/mods.zip" download rel="noopener">–°–∫–∞—á–∞—Ç—å</a>
          </div>
          <hr style="margin:14px 0;border:none;border-top:1px solid rgba(255,255,255,0.03)">
          <p class="small">–ï—Å–ª–∏ –Ω—É–∂–Ω–æ, –º–æ–≥—É –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Å—Å—ã–ª–∫–∞–º–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –±–∏–ª–¥–∞ –∏–ª–∏ –ø–∞–∫–µ—Ç–Ω–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞.</p>
        </aside>
      </section>

   
      <section id="profile" style="display:none">
        <h3 style="color:#e6eef8;margin-bottom:12px">–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h3>
        <div class="profile-section">
          <div class="profile-info">
            <h4 id="profileUsername"></h4>
            <div id="profileRole" style="margin-top:8px"></div>
            <div class="profile-stats">
              <div class="stat-item">
                <div class="stat-value" id="statDays">0</div>
                <div class="stat-label">–î–Ω–µ–π —Å –Ω–∞–º–∏</div>
              </div>
              <div class="stat-item">
                <div class="stat-value" id="statDownloads">0</div>
                <div class="stat-label">–°–∫–∞—á–∏–≤–∞–Ω–∏–π</div>
              </div>
              <div class="stat-item">
                <div class="stat-value" id="statRole">-</div>
                <div class="stat-label">–£—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–∞</div>
              </div>
            </div>
          </div>
          <div class="card">
            <h4>–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏</h4>
            <div id="availableFeatures" style="margin-top:8px">
              
            </div>
          </div>
        </div>

    
        <div id="adminPanel" class="admin-panel" style="display:none">
          <h4>–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</h4>
          <div class="small">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–ª—è–º–∏ –∏ –¥–æ—Å—Ç—É–ø–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
          
          <div class="user-list" id="userList">
          
          </div>
          
          <div style="margin-top:12px">
            <button class="btn primary" onclick="refreshUserList()">–û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫</button>
            <button class="btn ghost" onclick="exportUsers()">–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö</button>
          </div>
        </div>
      </section>

      <section id="features" aria-label="features" style="margin:28px 0">
        <h3 style="color:#e6eef8;margin-bottom:12px">–§—É–Ω–∫—Ü–∏–∏</h3>
        <div class="card" style="display:grid;grid-template-columns:260px 1fr;gap:16px">
          <div class="func-list" style="display:flex;flex-direction:column;gap:8px">
            <button class="btn ghost func-item" data-func="AutoWoodcut">AutoWoodcut</button>
            <button class="btn ghost func-item" data-func="AutoMiner">AutoMiner</button>
            <button class="btn ghost func-item" data-func="AutoFarm">AutoFarm</button>
            <button class="btn ghost func-item" data-func="AutoFish">AutoFish</button>
            <button class="btn ghost func-item" data-func="Waypoints">Waypoints</button>
          </div>
          <div class="func-desc" id="funcDesc" style="min-height:120px">
            <h4 id="funcTitle" style="margin-bottom:6px;color:#e6eef8">–í—ã–±–µ—Ä–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é —Å–ª–µ–≤–∞</h4>
            <p id="funcText" class="small">–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –ø—É–Ω–∫—Ç, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –∏ —Å–æ–≤–µ—Ç—ã –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.</p>
          </div>
        </div>
      </section>

      <section style="margin-top:18px">
        <div class="cta">
          <div>
            <strong>–ì–æ—Ç–æ–≤—ã –Ω–∞—á–∞—Ç—å?</strong>
            <div class="small">–°–∫–∞—á–∞–π—Ç–µ –∏ —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ ‚Äî –≤—Å—ë –∑–∞–π–º—ë—Ç –ø–∞—Ä—É –º–∏–Ω—É—Ç.</div>
          </div>
          <div>
            <a class="btn primary" href="#download" style="padding:12px 20px">–°–∫–∞—á–∞—Ç—å</a>
          </div>
        </div>
      </section>

      <section id="docs" style="margin-top:22px;background:rgba(255,255,255,0.01);padding:16px;border-radius:10px">
        <h3>–ö–æ—Ä–æ—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</h3>
        <ol style="color:#9fb0c9;margin-top:8px">
          <li>–°–∫–∞—á–∞–π—Ç–µ –∞—Ä—Ö–∏–≤ –¥–ª—è –≤–∞—à–µ–π –û–°.</li>
          <li>–†–∞—Å–ø–∞–∫—É–π—Ç–µ –ø–∞–ø–∫—É mods.</li>
          <li>–≤—Å–µ Jar —Ña–π–ª—ã –∑–∞–∫–∏–Ω—å—Ç–µ –≤ –º–æ–¥—ã 1.21.4 –≤–µ—Ä—Å–∏–∏ Tl legacy –∏–ª–∏ Tlauncher </li>
        </ol>
      </section>

      <section id="login" style="margin-top:22px;display:grid;grid-template-columns:1fr 1fr;gap:18px;align-items:start">
        <div class="card">
          <h3 style="margin-bottom:8px">–í—Ö–æ–¥</h3>
          <form id="loginForm">
            <label class="small" for="loginUsername">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
            <input id="loginUsername" name="username" required style="width:100%;padding:10px;margin:8px 0;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:#e6eef8">
            <label class="small" for="loginPassword">–ü–∞—Ä–æ–ª—å</label>
            <input id="loginPassword" name="password" type="password" required style="width:100%;padding:10px;margin:8px 0;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:#e6eef8">
            <div style="display:flex;justify-content:flex-end;margin-top:8px">
              <button class="btn primary" type="submit">–í–æ–π—Ç–∏</button>
            </div>
          </form>
          <div id="loginMsg" class="small" style="margin-top:8px;color:#fca5a5;display:none"></div>
        </div>
        <div class="card">
          <h3 style="margin-bottom:8px">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h3>
          <form id="registerForm">
            <label class="small" for="regUsername">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
            <input id="regUsername" name="username" required minlength="3" style="width:100%;padding:10px;margin:8px 0;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:#e6eef8">
            <label class="small" for="regPassword">–ü–∞—Ä–æ–ª—å</label>
            <input id="regPassword" name="password" type="password" required minlength="6" style="width:100%;padding:10px;margin:8px 0;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:#e6eef8">
            <label class="small" for="regPassword2">–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å</label>
            <input id="regPassword2" name="password2" type="password" required minlength="6" style="width:100%;padding:10px;margin:8px 0;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:#e6eef8">
            <div style="display:flex;justify-content:flex-end;margin-top:8px">
              <button class="btn primary" type="submit">–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</button>
            </div>
          </form>
          <div id="registerMsg" class="small" style="margin-top:8px;color:#86efac;display:none"></div>
        </div>
      </section>

      <section id="contact" style="margin-top:18px;display:grid;grid-template-columns:1fr 320px;gap:18px">
        <div style="color:#cbd5e1">
          <h3>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h3>
          <p class="small">–ï—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã? –ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞ –Ω–∞—à —Ç–≥–∫ @ForestClient</p>
        </div>
        <form class="card" onsubmit="event.preventDefault();alert('–§–æ—Ä–º–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ (—Å–∏–º—É–ª—è—Ü–∏—è). –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –±—ç–∫–µ–Ω–¥)')">
          <label class="small" for="name">–ò–º—è</label>
          <input id="name" name="name" required style="width:100%;padding:10px;margin:8px 0;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:#e6eef8">
          <label class="small" for="email">Email</label>
          <input id="email" name="email" type="email" required style="width:100%;padding:10px;margin:8px 0;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:#e6eef8">
          <label class="small" for="msg">–°–æ–æ–±—â–µ–Ω–∏–µ</label>
          <textarea id="msg" name="msg" rows="3" style="width:100%;padding:10px;margin:8px 0;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:#e6eef8"></textarea>
          <div style="display:flex;justify-content:flex-end;margin-top:8px">
            <button class="btn primary" type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
          </div>
        </form>
      </section>
    </main>

    <footer>
      <div>¬© Forest Client ‚Äî 2025</div>
      <div class="small">—Å–∞–π—Ç –±—ã–ª —Å–¥–µ–ª–∞–Ω –Ω–∏—Å—Ç–æ–π –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –≤ —Ç–≥–∫@forestclient</div>
    </footer>
  </div>
  <script>
  
    const ROLES = {
      'user': { name: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å', level: 1 },
      'beta': { name: 'Beta-—Ç–µ—Å—Ç–µ—Ä', level: 2 },
      'tester': { name: '–¢–µ—Å—Ç–µ—Ä', level: 3 },
      'media': { name: '–ú–µ–¥–∏–∞', level: 4 },
      'moderator': { name: '–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä', level: 5 },
      'developer': { name: '–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫', level: 10 },
      'admin': { name: '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä', level: 10 }
    };

  
    const lsKeyUsers = 'fc_users';
    const lsKeyCurrent = 'fc_current_user';
    const lsKeyStats = 'fc_user_stats';

    
    const getUsers = () => {
      try {
        return JSON.parse(localStorage.getItem(lsKeyUsers) || '{}');
      } catch {
        return {};
      }
    };

    const setUsers = (u) => localStorage.setItem(lsKeyUsers, JSON.stringify(u));

    const getStats = () => {
      try {
        return JSON.parse(localStorage.getItem(lsKeyStats) || '{}');
      } catch {
        return {};
      }
    };

    const setStats = (s) => localStorage.setItem(lsKeyStats, JSON.stringify(s));

    const setCurrent = (u) => localStorage.setItem(lsKeyCurrent, u || '');
    const getCurrent = () => localStorage.getItem(lsKeyCurrent) || '';

  
    function initializeAdmin() {
      const users = getUsers();
      if (!users['nistaswag']) {
        users['nistaswag'] = {
          password: 'bestdeveloper', 
          role: 'developer',
          registeredAt: new Date().toISOString()
        };
        setUsers(users);
        
        const stats = getStats();
        stats['nistaswag'] = {
          downloads: 0,
          lastLogin: new Date().toISOString(),
          joinDate: new Date().toISOString()
        };
        setStats(stats);
        console.log('–°–æ–∑–¥–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å nistaswag —Å —Ä–æ–ª—å—é developer');
      }
    }

 
    function updateAuthUI() {
      const user = getCurrent();
      const authState = document.getElementById('authState');
      const text = document.getElementById('authStateText');
      const loginSec = document.getElementById('login');
      const profileSec = document.getElementById('profile');
      const loginNav = document.getElementById('loginNav');
      const registerNav = document.getElementById('registerNav');

      if (user) {
        const users = getUsers();
        const userData = users[user];
        const role = userData?.role || 'user';
        const roleName = ROLES[role]?.name || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å';
        
        text.innerHTML = `–í—ã –≤–æ—à–ª–∏ –∫–∞–∫ ${user} <span class="role-badge role-${role}">${roleName}</span>`;
        authState.style.display = 'block';
        if (loginSec) loginSec.style.display = 'none';
        if (profileSec) profileSec.style.display = 'block';
        if (loginNav) loginNav.style.display = 'none';
        if (registerNav) registerNav.style.display = 'none';
        
        updateProfile(user);
      
        if (role === 'admin' || role === 'developer') {
          document.getElementById('adminPanel').style.display = 'block';
          refreshUserList();
        } else {
          document.getElementById('adminPanel').style.display = 'none';
        }
      } else {
        authState.style.display = 'none';
        if (loginSec) loginSec.style.display = 'grid';
        if (profileSec) profileSec.style.display = 'none';
        if (loginNav) loginNav.style.display = 'block';
        if (registerNav) registerNav.style.display = 'block';
        document.getElementById('adminPanel').style.display = 'none';
      }
    }

  
    function updateProfile(username) {
      const users = getUsers();
      const stats = getStats();
      const userData = users[username];
      const userStats = stats[username] || { downloads: 0, joinDate: new Date().toISOString() };
      
      const role = userData?.role || 'user';
      const roleName = ROLES[role]?.name || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å';
      
      document.getElementById('profileUsername').innerHTML = 
        `${username} <span class="role-badge role-${role}">${roleName}</span>`;
      
      
      const joinDate = new Date(userStats.joinDate || new Date());
      const daysSinceJoin = Math.floor((new Date() - joinDate) / (1000 * 60 * 60 * 24));
      
      document.getElementById('statDays').textContent = daysSinceJoin;
      document.getElementById('statDownloads').textContent = userStats.downloads || 0;
      document.getElementById('statRole').textContent = ROLES[role]?.level || 1;
      
      
      const featuresDiv = document.getElementById('availableFeatures');
      const features = getAvailableFeatures(role);
      featuresDiv.innerHTML = features.map(f => `<div class="small">‚úì ${f}</div>`).join('');
    }

   
    function getAvailableFeatures(role) {
      const baseFeatures = ['AutoWoodcut', 'AutoMiner', 'AutoFarm'];
      
      switch(role) {
        case 'developer':
        case 'admin':
          return [...baseFeatures, '–í—Å–µ Beta-—Ñ—É–Ω–∫—Ü–∏–∏', '–î–æ—Å—Ç—É–ø –∫ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è', '–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏–π', '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏'];
        case 'moderator':
          return [...baseFeatures, '–ú–æ–¥–µ—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π', 'Beta-—Ñ—É–Ω–∫—Ü–∏–∏'];
        case 'media':
          return [...baseFeatures, '–†–∞–Ω–Ω–∏–π –¥–æ—Å—Ç—É–ø', '–ú–µ–¥–∏–∞-—Ñ—É–Ω–∫—Ü–∏–∏'];
        case 'tester':
          return [...baseFeatures, '–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π'];
        case 'beta':
          return [...baseFeatures, 'Beta-—Ñ—É–Ω–∫—Ü–∏–∏'];
        default:
          return baseFeatures;
      }
    }

  
    function refreshUserList() {
      const users = getUsers();
      const userList = document.getElementById('userList');
      const currentUser = getCurrent();
      
      userList.innerHTML = Object.entries(users).map(([username, userData]) => {
        const role = userData.role || 'user';
        const isCurrent = username === currentUser;
        
        return `
          <div class="user-item">
            <div>
              ${username} 
              <span class="role-badge role-${role}">${ROLES[role]?.name || 'User'}</span>
              ${isCurrent ? '<span style="color:#86efac;font-size:11px">(–í—ã)</span>' : ''}
            </div>
            <div class="user-actions">
              <select onchange="updateUserRole('${username}', this.value)" ${isCurrent ? 'disabled' : ''}>
                ${Object.entries(ROLES).map(([key, roleInfo]) => 
                  `<option value="${key}" ${key === role ? 'selected' : ''}>${roleInfo.name}</option>`
                ).join('')}
              </select>
              <button onclick="deleteUser('${username}')" ${isCurrent ? 'disabled' : ''}>√ó</button>
            </div>
          </div>
        `;
      }).join('');
    }

  
    function updateUserRole(username, newRole) {
      const users = getUsers();
      if (users[username]) {
        users[username].role = newRole;
        setUsers(users);
        refreshUserList();
        if (username === getCurrent()) {
          updateAuthUI();
        }
      }
    }

  
    function deleteUser(username) {
      if (username === getCurrent()) return;
      
      const users = getUsers();
      delete users[username];
      setUsers(users);
      
      const stats = getStats();
      delete stats[username];
      setStats(stats);
      
      refreshUserList();
    }

    
    function exportUsers() {
      const users = getUsers();
      const stats = getStats();
      const data = {
        users: users,
        stats: stats,
        exportDate: new Date().toISOString()
      };
      
      const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'forest-client-users.json';
      a.click();
      URL.revokeObjectURL(url);
    }

   
    document.querySelectorAll('a[href^="#"]').forEach(a => {
      a.addEventListener('click', e => {
        const href = a.getAttribute('href');
        if (href.length > 1) {
          e.preventDefault();
          const el = document.querySelector(href);
          if (el) el.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
      });
    });

    const funcInfo = {
      AutoWoodcut: {
        title: 'AutoWoodcut',
        text: '–û—Ç–ª–∏—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è PvE: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—â–µ—Ç –∏ —Ä—É–±–∏—Ç –¥–µ—Ä–µ–≤—å—è, –ø–æ–¥–±–∏—Ä–∞—è –ª—É—Ç. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –∑–∞–¥–µ—Ä–∂–∫–∞ —É–¥–∞—Ä–æ–≤ –∏ —Ä–∞–¥–∏—É—Å –ø–æ–∏—Å–∫–∞.'
      },
      AutoMiner: {
        title: 'AutoMiner',
        text: '—Å–∞–º–∞ –∫–æ–ø–∞–µ—Ç –±–ª–æ–∫–∏!'
      },
      AutoFarm: {
        title: 'AutoFarm',
        text: '–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞–µ—Ç —Å–ª–∞–¥–∫–∏–µ —è–≥–æ–¥—ã !'
      },
      AutoFish: {
        title: 'AutoFish',
        text: '—Å–∞–º–∞ –ª–æ–≤–∏—Ç —Ä—ã–±—É!'
      },
      Waypoints: {
        title: 'Waypoints',
        text: '–¢–æ–ø–æ–≤–∞—è –∫–∏–ª–ª–∞—É—Ä–∞ –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –±–∞–Ω–∏—Ç—å—Å—è!'
      }
    };

    function selectFunc(key) {
      const data = funcInfo[key];
      if (!data) return;
      document.querySelectorAll('.func-item').forEach(b => b.classList.remove('selected'));
      const btn = document.querySelector(`.func-item[data-func="${key}"]`);
      if (btn) btn.classList.add('selected');
      document.getElementById('funcTitle').textContent = data.title;
      document.getElementById('funcText').textContent = data.text;
    }

    document.querySelectorAll('.func-item').forEach(b => {
      b.addEventListener('click', () => selectFunc(b.dataset.func));
    });

    const loginForm = document.getElementById('loginForm');
    if (loginForm) {
      loginForm.addEventListener('submit', e => {
        e.preventDefault();
        const u = document.getElementById('loginUsername').value.trim();
        const p = document.getElementById('loginPassword').value;
        const users = getUsers();
        const msg = document.getElementById('loginMsg');
        msg.style.display = 'none';
        
        if (!u || !p) {
          msg.textContent = '–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∏ –ø–∞—Ä–æ–ª—å';
          msg.style.display = 'block';
          return;
        }
        
        
        if (users[u] && users[u].password === p) {
          setCurrent(u);
          
       
          const stats = getStats();
          if (!stats[u]) {
            stats[u] = { downloads: 0, joinDate: new Date().toISOString() };
          }
          stats[u].lastLogin = new Date().toISOString();
          setStats(stats);
          
          updateAuthUI();
          loginForm.reset();
          location.hash = '#profile';
        } else {
          msg.textContent = '–ù–µ–≤–µ—Ä–Ω—ã–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –ø–∞—Ä–æ–ª—å';
          msg.style.display = 'block';
        }
      });
    }

  
    const regForm = document.getElementById('registerForm');
    if (regForm) {
      regForm.addEventListener('submit', e => {
        e.preventDefault();
        const u = document.getElementById('regUsername').value.trim();
        const p = document.getElementById('regPassword').value;
        const p2 = document.getElementById('regPassword2').value;
        const users = getUsers();
        const ok = document.getElementById('registerMsg');
        const errColor = '#fca5a5';
        ok.style.display = 'none';
        
        if (u.length < 3) {
          ok.textContent = '–ú–∏–Ω–∏–º—É–º 3 —Å–∏–º–≤–æ–ª–∞ –≤ –∏–º–µ–Ω–∏';
          ok.style.color = errColor;
          ok.style.display = 'block';
          return;
        }
        if (p.length < 6) {
          ok.textContent = '–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤ –≤ –ø–∞—Ä–æ–ª–µ';
          ok.style.color = errColor;
          ok.style.display = 'block';
          return;
        }
        if (p !== p2) {
          ok.textContent = '–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç';
          ok.style.color = errColor;
          ok.style.display = 'block';
          return;
        }
        if (users[u]) {
          ok.textContent = '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç';
          ok.style.color = errColor;
          ok.style.display = 'block';
          return;
        }
        
        users[u] = {
          password: p, 
          role: 'user',
          registeredAt: new Date().toISOString()
        };
        setUsers(users);
        
      
        const stats = getStats();
        stats[u] = {
          downloads: 0,
          lastLogin: new Date().toISOString(),
          joinDate: new Date().toISOString()
        };
        setStats(stats);
        
        setCurrent(u);
        regForm.reset();
        ok.textContent = '–ê–∫–∫–∞—É–Ω—Ç —Å–æ–∑–¥–∞–Ω, –≤—ã –≤–æ—à–ª–∏';
        ok.style.color = '#86efac';
        ok.style.display = 'block';
        updateAuthUI();
        location.hash = '#profile';
      });
    }

   
    const logoutBtn = document.getElementById('logoutBtn');
    if (logoutBtn) {
      logoutBtn.addEventListener('click', () => {
        setCurrent('');
        updateAuthUI();
        location.hash = '#';
      });
    }

    initializeAdmin();
    updateAuthUI();
  </script>
</body>
</html>